<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <title th:text="#{add.competition.title}">Add a competition</title>
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
<div th:replace="~{nav :: navbar}"></div>
<div class="sm:mx-auto sm:w-full sm:max-w-sm flex flex-col gap-2">
    <div class="sm:mx-auto sm:w-full sm:max-w-sm flex flex-col gap-2">
        <form class="flex flex-col mt-16 gap-2" action="#" th:action="@{'/competition/add/' + ${sport_id}}"
              th:object="${competition}"
              method="post">

            <div class="flex flex-col">
                <label for="sport" th:text="#{competition.sport.label}">Add competition for sport:</label>
                <input type="text" id="sport" th:field="*{sport.name}" readonly>
                <span th:if="${#fields.hasErrors('sport.name')}" th:errorclass="error" th:errors="*{sport.name}"></span>
            </div>

            <div class="flex flex-col">
                <label for="date" th:text="#{competition.date.label}">Date:</label>
                <input type="date" id="date" th:field="*{startDate}">
                <span th:if="${#fields.hasErrors('startDate')}" th:errorclass="error" th:errors="*{startDate}"></span>
            </div>
            <div class="flex flex-col">
                <label for="time" th:text="#{label.start.time}">Start Time:</label>
                <input type="time" id="time" th:field="*{startTime}">
                <span th:if="${#fields.hasErrors('startTime')}" th:errorclass="error" th:errors="*{startTime}"></span>
            </div>

            <div class="flex flex-col">
                <label for="stadium" th:text="#{label.stadium}">Stadium:</label>
                <select id="stadium" name="stadium.stadium_id">
                    <option value="" th:text="#{label.select.stadium}">Select Stadium</option>
                    <option th:each="stadium : ${stadiums}" th:value="${stadium.stadium_id}"
                            th:text="${stadium.stadium_id}"></option>
                </select>
                <span th:if="${#fields.hasErrors('stadium.stadium_id')}" th:errorclass="error"
                      th:errors="*{stadium.stadium_id}"></span>
            </div>

            <div class="flex flex-col">
                <h2 class="text-2xl font-bold" th:text="#{label.disciplines}">Disciplines:</h2>
                <div class="flex flex-col">
                    <label for="discipline1" th:text="#{label.discipline1}">Discipline 1:</label>
                    <input type="text" id="discipline1" th:field="*{disciplines[0].name}">
                    <span th:if="${#fields.hasErrors('disciplines[0].name')}" th:errorclass="error"
                          th:errors="*{disciplines[0].name}"></span>
                </div>
                <div class="flex flex-col">
                    <label for="discipline2" th:text="#{label.discipline2}">Discipline 2:</label>
                    <input type="text" id="discipline2" th:field="*{disciplines[1].name}">
                    <span th:if="${#fields.hasErrors('disciplines[1].name')}" th:errorclass="error"
                          th:errors="*{disciplines[1].name}"></span>
                </div>
                <span th:if="${#fields.hasErrors('disciplines')}" th:errorclass="error"
                      th:errors="*{disciplines}"></span>
            </div>


            <div class="flex flex-col">
                <label for="olympicNumber1" th:text="#{label.olympicNumber1}">Olympic Number 1:</label>
                <input type="text" id="olympicNumber1" th:field="*{olympicNumber1}">
                <span th:if="${#fields.hasErrors('olympicNumber1')}" th:errorclass="error"
                      th:errors="*{olympicNumber1}"></span>
            </div>
            <div class="flex flex-col">
                <label for="olympicNumber2" th:text="#{label.olympicNumber2}">Olympic Number 2:</label>
                <input type="text" id="olympicNumber2" th:field="*{olympicNumber2}">
                <span th:if="${#fields.hasErrors('olympicNumber2')}" th:errorclass="error"
                      th:errors="*{olympicNumber2}"></span>
            </div>

            <div class="flex flex-col">
                <label for="ticketPrice" th:text="#{label.ticketPrice}">Ticket Price:</label>
                <input type="number" id="ticketPrice" step="0.01" th:field="*{ticketPrice}">
                <span th:if="${#fields.hasErrors('ticketPrice')}" th:errorclass="error"
                      th:errors="*{ticketPrice}"></span>
            </div>
            <div class="flex flex-col">
                <label for="seats" th:text="#{label.seats}">Number of free Seats:</label>
                <input type="number" id="seats" th:field="*{freeSeats}">
                <span th:if="${#fields.hasErrors('freeSeats')}" th:errorclass="error" th:errors="*{freeSeats}"></span>
            </div>

            <input type="submit" th:value="#{add.competition.submit}">
        </form>
    </div>
</div>
</body>
</html>